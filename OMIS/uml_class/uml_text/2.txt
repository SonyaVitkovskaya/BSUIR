@startuml
skinparam classAttributeIconSize 0
skinparam linetype ortho
skinparam fixCircleLabelOverlapping true

class Запуск_программы <<main>> <<injector>>

class Главный_контроллер <<injector>> #grey{
-контроллер_ценообразования : Контроллер_ценообразования 
+запустить(): void
}

interface Контроллер_ценообразования #grey{
+вычислить_цену(номер: Номер, коэффициент_популярности: float)
+установить_цену(номер: Номер, цена: float)
}

class Базовый_контроллер_ценообразования <<control>> #grey{
-контроллер_номеров: Контроллер_номеров
-контроллер_аналитики: Контроллер_аналитики
+вычислить_цену(номер: Номер, коэффициент_популярности: float)
+установить_цену(номер: Номер, цена: float)
}

interface Контроллер_аналитики #grey{
+добавить_отзыв(номер: Номер, оценка: int): Отзыв
+вычислить_коэффициент_популярности(Номер): float
+получить_отзывы_номера(Номер):  List<<Отзыв>>
}

class Базовый_контроллер_аналитики <<control>> #grey{
-отзывы: List<Отзыв>
+добавить_отзыв(номер: Номер, оценка: int): Отзыв
+вычислить_коэффициент_популярности(Номер): float
+получить_отзывы_номера(Номер):  List<<Отзыв>>
}

interface Отзыв #grey{
+получить_номер(): Номер
+получить_оценку(): int
}

class Стандартный_отзыв <<data>> #grey{
-номер: Номер
-оценка: int
+Стандартный_отзыв(номер: Номер, оценка: int)
+получить_номер(): Номер
+получить_оценку(): int
}

interface Контроллер_номеров {
+добавить_номер(Номер): void
+получить_номер(номер: int): Номер
+получить_свободные_номера(): List<Номер>
+изменить_номер(Номер): Номер
}

class Базовый_контроллер_номеров <<control>>{
-репозиторий_данных: Репозиторий_данных
+добавить_номер(Номер): void
+получить_номер(номер: int): Номер
+получить_свободные_номера(): List<Номер>
+изменить_номер(Номер): Номер
}

Главный_контроллер <.. Запуск_программы: <<instantiate>>
Базовый_контроллер_номеров<.. Запуск_программы: <<instantiate>>
Базовый_контроллер_аналитики<.. Запуск_программы: <<instantiate>>
Базовый_контроллер_ценообразования <.. Запуск_программы: <<instantiate>>

Главный_контроллер "1" o-- "1" Контроллер_ценообразования : -контроллер_ценообразования 
Базовый_контроллер_ценообразования "1" o-- "1" Контроллер_номеров: -контроллер_номеров
Базовый_контроллер_ценообразования "1" o-- "1" Контроллер_аналитики: -контроллер_аналитики
Базовый_контроллер_аналитики "1" *-- "1" Отзыв: -отзывы

Стандартный_отзыв "1" <.. "1" Базовый_контроллер_аналитики: <<use>>
Базовый_контроллер_номеров"1" <.. "1" Базовый_контроллер_ценообразования: <<use>>
Базовый_контроллер_аналитики"1" <.. "1" Базовый_контроллер_ценообразования: <<use>>
Базовый_контроллер_ценообразования"1" <.. "1" Главный_контроллер : <<use>>

Контроллер_номеров<|.. Базовый_контроллер_номеров
Контроллер_аналитики <|.. Базовый_контроллер_аналитики
Контроллер_ценообразования <|.. Базовый_контроллер_ценообразования 
Отзыв <|.. Стандартный_отзыв
@enduml