@startuml
skinparam classAttributeIconSize 0
skinparam fixCircleLabelOverlapping true 
skinparam linetype ortho
!pragma layout elk

class Запуск_программы <<main>> <<injector>>{
+запуск_программы()
}

class Главный_контроллер <<injector>>

class Приложение <<UI>> <<injector>>{
#фабрика: Фабрика_интерфейса
-окна: Map<str, Окно>
+Приложение(фабрика: Фабрика_интерфейса)
+создать_интерфейс(): void
+отрисовать_интерфейс(): void
+показать_окно(название: str): void
+получить_окна(): Map<str, Окно>
}

interface Фабрика_интерфейса <<UI>>{
+создать_окно(): Окно
+создать_кнопку(): Кнопка
+создать_поле(): Поле
+создать_таблицу(): Таблица
+создать_слой(): Слой
}

class Фабрика_стандартного_интерфейса<<UI>> <<injector>>{
+Фабрика_стандартного_интерфейса()
+создать_кнопку(): Кнопка
+создать_окно(): Окно
+создать_поле(): Поле
+создать_поле(): Слой
+создать_таблицу(): Таблица
}

interface Окно <<UI>>{
+добавить_слой(слой: Слой): void
}

interface Кнопка <<UI>>{
+задать_действие(действие: Действие): void
}

interface Поле<<UI>>{
+задать_тип(тип: Тип_поля): void
}

interface Таблица <<UI>>{
+задать_базу(строки: int, столбцы: int): void
}

interface Слой<<UI>>{
+задать_тип(тип: Тип_слоя): void
+добавить(объект: Интерфейсный_объект, x: Float, y:Float): void
}

interface Интерфейсный_объект<<UI>>{
+задать_размеры(длина:float, ширина:float): void
+отрисовать(): void
}

Главный_контроллер <.. Запуск_программы: <<instantiate>>
Приложение<.. Запуск_программы: <<instantiate>>
Фабрика_стандартного_интерфейса<.. Запуск_программы: <<instantiate>>

Интерфейсный_объект<..Фабрика_интерфейса: <<instantiate>>
Слой<..Фабрика_интерфейса: <<instantiate>>
Таблица <..Фабрика_интерфейса: <<instantiate>>
Поле<..Фабрика_интерфейса: <<instantiate>>
Окно <..Фабрика_интерфейса: <<instantiate>>
Кнопка <..Фабрика_интерфейса: <<instantiate>>

Интерфейсный_объект<|--Слой
Интерфейсный_объект<|--Таблица 
Интерфейсный_объект<|--Поле
Интерфейсный_объект<|--Окно 
Интерфейсный_объект<|--Кнопка 

Фабрика_интерфейса <|.. Фабрика_стандартного_интерфейса

Окно "1..*"<--"1"Приложение: -окна
Главный_контроллер "1" o-- "1" Приложение: #приложение
Приложение "1" o-- "1" Фабрика_интерфейса : -фабрика
@enduml