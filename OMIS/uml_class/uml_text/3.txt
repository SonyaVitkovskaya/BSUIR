@startuml
skinparam classAttributeIconSize 0
skinparam linetype ortho
skinparam fixCircleLabelOverlapping true

class Запуск_программы <<main>> <<injector>>

class Главный_контроллер <<injector>> #grey{
-контроллер_вызова: Контроллер_вызова
+запустить(): void
}

interface Такси_сервис #grey{
+получить_название():str
+получить_телефон(): str
+получить_машины(): Map<номер: str, статус_свободен: bool>
}

class Стандартный_такси_сервис <<data>> #grey{
-название:str
-телефон: str
-машины: Map<номер: str, статус_свободен: bool>
+Стандартный_такси_сервис (название:str, телефон: str): void
+получить_название():str
+получить_телефон(): str
+получить_машины(): Map<номер: str, статус_свободен: bool>
}

interface Контроллер_вызова <<control>> #grey{
+вызвать_такси(время: DateTime, на_имя: Постоялец): номер: str
}

class Базовый_контроллер_вызова <<control>> #grey{
-такси_сервис: Такси_сервис
-контроллер_постоялльцев: Контроллер_постояльцев
+вызвать_такси(время: DateTime, на_имя: Постоялец): номер: str
}

interface Контроллер_постояльцев {
+добавить_постояльца(Постоялец): Постоялец
+получить_всех_постояльцев():  List<Постоялец>
+получить_постояльца(серия_номер_паспорта: str): Постоялец
+изменить_постояльца(Постоялец): Постоялец
}

class Базовый_контроллер_постояльцев <<control>>{
-репозиторий_данных: Репозиторий_данных
+добавить_постояльца(Постоялец): Постоялец
+получить_всех_постояльцев():  List<Постоялец>
+получить_постояльца(серия_номер_паспорта: str): Постоялец
+изменить_постояльца(Постоялец): Постоялец
}


Главный_контроллер <.. Запуск_программы: <<instantiate>>
Базовый_контроллер_вызова  "1" <.. "1" Главный_контроллер: <<use>>

Базовый_контроллер_постояльцев<.. Запуск_программы: <<instantiate>>
Базовый_контроллер_вызова <.. Запуск_программы: <<instantiate>>

Главный_контроллер "1" o-- "1" Контроллер_вызова : -контроллер_вызова 

Базовый_контроллер_вызова "1" o-- "1" Контроллер_постояльцев: -контроллер_постояльцев
Базовый_контроллер_вызова "1" o-- "1" Такси_сервис : -такси_сервис 

Стандартный_такси_сервис "1" <.. "1" Базовый_контроллер_вызова : <<use>>
Базовый_контроллер_постояльцев"1" <.. "1" Базовый_контроллер_вызова : <<use>>

Контроллер_постояльцев<|.. Базовый_контроллер_постояльцев
Контроллер_вызова <|.. Базовый_контроллер_вызова 
Такси_сервис <|.. Стандартный_такси_сервис 
@enduml